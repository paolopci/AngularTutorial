<div class="container-fluid">
  <form #form="ngForm" (ngSubmit)="submitForm(form)">
    <div class="bg-danger text-white p-2 mb-2" *ngIf="formSubmitted && form.invalid">
      There are problems with the form
      <ul>
        <li *ngFor="let error of getFormValidationMessages(form)">{{ error }}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Name</label>
      <input class="form-control"
             name="name"
             [(ngModel)]="newProduct.name"
             #name="ngModel"
             required
             minlength="5"
             pattern="^[A-Za-z ]+$"/>
      <ul class="text-danger list-unstyled mt-1" *ngIf="name.dirty && name.invalid">
        <li *ngFor="let error of getValidationMessages(name)">{{ error }}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Category</label>
      <input class="form-control"
             [(ngModel)]="newProduct.category"
             name="category"
             #category="ngModel"
             required
             minlength="5"
             pattern="^[A-Za-z ]+$"/>
      <ul class="text-danger list-unstyled mt-1" *ngIf="category.dirty && category.invalid">
        <li *ngFor="let error of getValidationMessages(category)">{{ error }}</li>
      </ul>
    </div>
    <div class="form-group">
      <label>Price</label>
      <input class="form-control"
             [(ngModel)]="newProduct.price"
             name="price"
             #price="ngModel"
             required
             min=1
             max=1000
             pattern="^[0-9,.]+$"/>
    </div>
    <ul class="text-danger list-unstyled mt-1" *ngIf="price.dirty && price.invalid">
      <li *ngFor="let error of getValidationMessages(price)">{{ error }}</li>
    </ul>
    <button class="btn btn-primary mt-2" type="submit"
            [disabled]="formSubmitted && form.invalid "
            [class.btn-secondary]="formSubmitted && form.invalid">
      Create
    </button>
  </form>
</div>



