<div class="container-fluid">
  <div class="row p-2">
    <div class="col-6">
      <form #form="ngForm" (ngSubmit)="submitForm(form)">
        <div class="bg-danger text-white p-2 mb-2" *ngIf="formSubmitted && form.invalid">
          There are problems with the form
          <ul>
            <li *ngFor="let error of getFormValidationMessages(form)">{{ error }}</li>
          </ul>
        </div>
        <div class="form-group">
          <label>Name</label>
          <input class="form-control" appExtend
                 name="name"
                 [(ngModel)]="newProduct.name"
                 #name="ngModel"
                 required
                 minlength="5"
                 pattern="^[A-Za-z ]+$"/>
          <ul class="text-danger list-unstyled mt-1" *ngIf="name.dirty && name.invalid">
            <li *ngFor="let error of getValidationMessages(name)">{{ error }}</li>
          </ul>
        </div>
        <div class="form-group">
          <label>Category</label>
          <input class="form-control" appExtend
                 [(ngModel)]="newProduct.category"
                 name="category"
                 #category="ngModel"
                 required
                 minlength="5"
                 pattern="^[A-Za-z ]+$"/>
          <ul class="text-danger list-unstyled mt-1" *ngIf="category.dirty && category.invalid">
            <li *ngFor="let error of getValidationMessages(category)">{{ error }}</li>
          </ul>
        </div>
        <div class="form-group">
          <label>Price</label>
          <input class="form-control"
                 [(ngModel)]="newProduct.price"
                 name="price"
                 #price="ngModel"
                 required
                 min=1
                 max=1000
                 pattern="^[0-9,.]+$"/>
        </div>
        <ul class="text-danger list-unstyled mt-1" *ngIf="price.dirty && price.invalid">
          <li *ngFor="let error of getValidationMessages(price)">{{ error }}</li>
        </ul>
        <button class="btn btn-primary mt-2" type="submit"
                [disabled]="formSubmitted && form.invalid "
                [class.btn-secondary]="formSubmitted && form.invalid">
          Create
        </button>
      </form>
    </div>


    <div class="col">
      <div class="form-group bg-info text-white p-2">
        <label>Name:</label>
        <input class="bg-primary text-white form-control"
               [(paModel)]="newProduct.name" #paModel="paModel">
      </div>
      <div class="bg-info text-white p-1">Direction: {{ paModel.direction }}</div>
      <table class="table table-sm table-bordered table-striped mt-4">
        <thead>
        <tr [ngStyle]="{'background-color':'yellow'}">
          <th>Id</th>
          <th>Name</th>
          <th>Category</th>
          <th>Price</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of getProducts(); let i=index"
            [pa-attr]="getProducts().length < 10 ?'table-success' : 'table-warning'"
            [pa-product]="item" (pa-category)="newProduct=$event">
          <td>{{ i + 1 }}</td>
          <td>{{ item.name }}</td>
          <td [pa-attr]="item.category=='Soccer'?'table-warning': null">{{ item.category }}</td>
          <td class="text-end" [pa-attr]="'table-info'">{{ item.price }}â‚¬</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>



